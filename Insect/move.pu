@startuml Insect/move
hide footbox

participant "insect:Insect" as insect
participant "location:Tecton" as location
participant "target:Tecton" as target


-> insect : moveTo(target)
activate insect

opt Idle && CanMove

    insect -> location : hasMyceliumTo(target)
    activate location

    return moveValid
    deactivate location

    opt moveValid

        insect -> location : removeInsect(insect)
        activate location
        return
        
        insect -> target : addInsect(insect)
        activate target
        return
    end
end

<-- insect
deactivate insect

@enduml